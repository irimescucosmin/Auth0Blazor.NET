@page "/auth/login"
@using System.Diagnostics

@using Microsoft.AspNetCore.Authentication
@using Auth0.AspNetCore.Authentication

@functions {
    public async Task OnGetAsync()
    {
        var redirectUri = string.IsNullOrWhiteSpace(Request.Query["redirectUri"])
            ? "/" // fallback
            : Request.Query["redirectUri"].ToString();

        await HttpContext.ChallengeAsync(Auth0Constants.AuthenticationScheme, new AuthenticationProperties
        {
            RedirectUri = redirectUri
        });
    }
}